{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 19,
  "summary": "Update “FitGebit Team Tracker” app on ICP with Internet Identity. Maintain fun dental-themed UI. Login/onboarding is post–Internet Identity with visible floating-tooth animation. Change role handling: remove auto-assign-first-user/creator-as-Manager; instead present a role choice (Assistant or Manager) and require Manager token ICPmaxi313. On first login users set name/username and 2–3 initials. Profile must support either an uploaded profile picture or an auto-generated cute dental-themed avatar (pastel palette, unique per user, initials visible). Avatars/photos must load reliably across the app; profile UI must be persistent and not disappear after updates. Logo is a cute tooth icon (no text).",
  "architectural_notes": [
    "Platform: Internet Computer (ICP) with Internet Identity for authentication.",
    "Localization: manual language selection (Dutch/French/English) with UI toggle.",
    "Media storage: task photos stored directly in canister (not external storage).",
    "Overtime rules: date defaults to today; disallow future dates; entries are minutes-only with add (red) / deduct (green); 480 minutes = 1 workday.",
    "Exports: manager can export overtime and task/audit/stats data to CSV.",
    "Manager role assignment: creator/deployer is auto-assigned Manager immediately with no confirmation prompts.",
    "Avatar delivery: store SVG avatar assets as strings in the canister and expose them via a list/URLs for the frontend.",
    "Tasks schema: tasks only have title + type (weekly/monthly/urgent); remove due date, assignee, and priority fields from UI and backend.",
    "Task recurrence: weekly due Monday; monthly due first Monday; reset/recompute recurrence when the app opens (not via midnight cron).",
    "Role selection replaces auto-assignment: users choose Assistant or Manager at login; Manager role granted only after entering token ICPmaxi313."
  ],
  "known_issues": [
    "Avatar SVGs are not currently showing/loading in the app (needs fix to asset storage/serving and picker rendering).",
    "Build/app generation attempts failed multiple times during this conversation (needs investigation or scope reduction to unblock).",
    "Profile settings popup/modal background is see-through (transparency issue).",
    "Avatars are not visible in the Profile settings avatar picker/grid.",
    "Profile UI disappeared after the latest update (profile settings/profile screen not showing).",
    "Overtime submission fails with error message: \"Overtime functionality is currently unavailable\" (UI loads but save/submit fails at the end).",
    "All avatars appear as missing/broken image links across the app (not just in the picker).",
    "Overtime submission error: \"Invalid nat argument: BigInt(-6)\" when attempting to deduct/store negative minutes (backend likely using Nat).",
    "Task completion error: \"Invalid task: This weekly task is obsolete and must be reset before completion\" blocking marking tasks done."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-internet-identity-login-and-an-authenticated-app-shell-for-fitgebit-team-tracker-including-automatic-role-assignment-the-first-ever-authenticated-user-deployer-becomes-manager-after-a-first-login-confirmation-and-all-other-users-default-to-assistant",
      "title": "Implement Internet Identity login and an authenticated app shell for FitGebit Team Tracker, including automatic role assignment: the first-ever authenticated user (deployer) becomes Manager after a first-login confirmation, and all other users default to Assistant.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-user-profile-onboarding-and-profile-display-on-first-login-prompt-the-user-to-choose-a-username-initials-and-an-avatar-store-and-display-the-user-s-profile-username-initials-selected-avatar-role-throughout-the-ui",
      "title": "Create user profile onboarding and profile display: on first login, prompt the user to choose a username/initials and an avatar; store and display the user’s profile (username/initials, selected avatar, role) throughout the UI.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-integrate-an-avatar-picker-using-48-cute-svg-dental-icons-including-12-islamic-themed-icons-show-8-avatars-per-grid-page-with-pagination-controls",
      "title": "Generate and integrate an avatar picker using 48 cute SVG dental icons, including 12 Islamic-themed icons; show 8 avatars per grid page with pagination controls.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-build-the-core-responsive-ui-structure-with-tabbed-navigation-for-tasks-overtime-and-manager-sections-include-dark-light-mode-toggle-and-ensure-the-ui-remains-usable-on-mobile-and-desktop",
      "title": "Build the core responsive UI structure with tabbed navigation for Tasks, Overtime, and Manager sections; include dark/light mode toggle and ensure the UI remains usable on mobile and desktop.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-manual-language-selection-with-complete-translations-for-all-user-facing-text-in-dutch-french-and-english-with-a-language-selector-available-in-the-app-ui",
      "title": "Implement manual language selection with complete translations for all user-facing text in Dutch, French, and English, with a language selector available in the app UI.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-overtime-tracker-module-assistants-can-add-or-deduct-overtime-minutes-with-rules-date-prefilled-to-today-no-future-dates-minutes-only-input-with-a-colored-history-additions-red-deductions-green-and-totals-minutes-workdays-where-480-minutes-1-day",
      "title": "Implement the Overtime Tracker module: Assistants can add or deduct overtime minutes with rules (date prefilled to today, no future dates, minutes-only input), with a colored history (additions red, deductions green) and totals (minutes + workdays where 480 minutes = 1 day).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-manager-overtime-views-and-csv-export-manager-can-view-overtime-totals-and-histories-for-each-user-and-export-overtime-data-to-csv",
      "title": "Add Manager overtime views and CSV export: Manager can view overtime totals and histories for each user, and export overtime data to CSV.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-tasks-module-as-the-main-page-create-shared-tasks-with-fields-title-frequency-daily-weekly-monthly-due-date-priority-assignee-show-a-list-sorted-by-urgency-and-allow-assistants-to-mark-tasks-done-with-optional-comment-and-optional-photo-recurring-tasks-reset-appropriately-after-completion",
      "title": "Implement Tasks module as the main page: create shared tasks with fields (title, frequency: daily/weekly/monthly, due date, priority, assignee), show a list sorted by urgency, and allow Assistants to mark tasks done with optional comment and optional photo; recurring tasks reset appropriately after completion.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-manager-stats-and-audits-for-tasks-including-simple-charts-and-csv-export-of-task-activity-completions",
      "title": "Implement Manager stats and audits for tasks, including simple charts and CSV export of task activity/completions.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-in-app-notifications-for-key-actions-e-g-save-success-failure-validation-errors-and-implement-basic-security-gdpr-oriented-controls-data-minimization-access-control-and-a-way-for-a-user-to-view-export-and-delete-their-own-profile-data",
      "title": "Add in-app notifications for key actions (e.g., save success/failure, validation errors) and implement basic security + GDPR-oriented controls (data minimization, access control, and a way for a user to view/export and delete their own profile data).",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-define-and-apply-a-fun-modern-dental-themed-visual-style-with-subtle-animations-and-an-engagement-badge-system-ensure-the-theme-is-consistent-across-screens-without-using-a-blue-purple-primary-palette",
      "title": "Define and apply a fun, modern dental-themed visual style with subtle animations and an engagement badge system; ensure the theme is consistent across screens without using a blue/purple primary palette.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-overtime-photo-support-end-to-end-users-must-not-be-able-to-upload-or-view-overtime-photos-and-the-backend-must-no-longer-accept-store-or-return-any-overtime-photo-data",
      "title": "Remove overtime photo support end-to-end: users must not be able to upload or view overtime photos, and the backend must no longer accept, store, or return any overtime photo data.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-overtime-entry-date-input-ux-to-use-a-dd-mm-yyyy-date-entry-prefilled-to-today-and-keep-the-existing-rule-that-future-dates-are-not-allowed",
      "title": "Update the overtime entry date input UX to use a DD MM YYYY date entry (prefilled to today) and keep the existing rule that future dates are not allowed.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-overtime-add-deduct-behavior-and-color-semantics-match-the-spec-add-must-display-as-red-minutes-and-deduct-must-display-as-green-minutes-in-the-overtime-history-list-and-totals-calculations",
      "title": "Ensure overtime add/deduct behavior and color semantics match the spec: Add must display as red (+minutes) and Deduct must display as green (-minutes) in the overtime history list and totals calculations.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-redesign-the-tasks-domain-model-and-ui-to-remove-due-date-assignee-and-priority-and-replace-them-with-title-type-weekly-monthly-urgent-tasks-must-be-shared-not-per-user-assigned",
      "title": "Redesign the Tasks domain model and UI to remove due date, assignee, and priority and replace them with: title + type (weekly/monthly/urgent). Tasks must be shared (not per-user assigned).",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-task-type-based-status-coloring-and-done-behavior-monthly-tasks-are-yellow-weekly-tasks-are-blue-urgent-tasks-are-red-when-completed-the-task-displays-as-green-done-until-it-resets",
      "title": "Implement task type-based status coloring and done behavior: monthly tasks are yellow, weekly tasks are blue, urgent tasks are red; when completed, the task displays as green 'done' until it resets.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-change-recurring-reset-logic-to-match-the-new-spec-and-trigger-resets-when-the-app-opens-weekly-tasks-reset-based-on-monday-monthly-tasks-reset-based-on-the-first-monday-of-the-month-urgent-tasks-do-not-auto-reset-unless-explicitly-specified-by-the-implemented-logic-document-the-chosen-behavior-in-code-comments",
      "title": "Change recurring/reset logic to match the new spec and trigger resets when the app opens: weekly tasks reset based on Monday; monthly tasks reset based on the first Monday of the month; urgent tasks do not auto-reset unless explicitly specified by the implemented logic (document the chosen behavior in code comments).",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-update-task-completion-tracking-to-record-the-completer-and-support-optional-comment-plus-optional-before-and-after-photos-two-distinct-images-the-completion-ui-must-show-camera-related-affordances-icons",
      "title": "Update task completion tracking to record the completer and support optional comment plus optional before-and-after photos (two distinct images). The completion UI must show camera-related affordances/icons.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-update-manager-task-statistics-and-csv-export-to-align-with-the-redesigned-task-model-and-new-completion-tracking-focusing-on-who-completed-tasks-and-how-often-and-keeping-export-functional",
      "title": "Update Manager task statistics and CSV export to align with the redesigned task model and new completion tracking, focusing on 'who completed tasks' and 'how often' and keeping export functional.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-post-login-role-auto-assignment-first-manager-confirmation-flow-with-an-explicit-role-choice-flow-assistant-or-manager-where-manager-access-requires-entering-the-token-icpmaxi313",
      "title": "Replace the current post-login role auto-assignment/first-manager confirmation flow with an explicit role-choice flow (Assistant or Manager) where Manager access requires entering the token \"ICPmaxi313\".",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-revise-the-login-screen-ui-to-include-role-selection-assistant-manager-and-when-manager-is-selected-a-token-input-field-keep-internet-identity-as-the-authentication-mechanism",
      "title": "Revise the login screen UI to include role selection (Assistant/Manager) and, when Manager is selected, a token input field; keep Internet Identity as the authentication mechanism.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-firstmanagerconfirmdialog-flow-from-the-authenticated-app-startup-and-replace-it-with-the-new-role-choice-token-flow-so-that-app-tsx-never-triggers-the-old-manager-confirmation-dialog",
      "title": "Remove the FirstManagerConfirmDialog flow from the authenticated app startup and replace it with the new role-choice/token flow so that App.tsx never triggers the old manager confirmation dialog.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-update-profile-onboarding-to-require-a-username-and-initials-of-length-2-3-characters-on-first-login-and-prevent-saving-if-initials-are-not-2-or-3-characters",
      "title": "Update profile onboarding to require a username and initials of length 2–3 characters on first login, and prevent saving if initials are not 2 or 3 characters.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-existing-48-avatar-static-manifest-and-paginated-avatar-picker-with-exactly-16-simple-cute-dental-svg-avatars-served-from-the-canister-as-svg-strings-or-via-canister-urls-and-displayed-in-a-single-grid-with-no-pagination",
      "title": "Replace the existing 48-avatar static manifest and paginated avatar picker with exactly 16 simple cute dental SVG avatars, served from the canister as SVG strings (or via canister URLs) and displayed in a single grid with no pagination.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-add-adjust-i18n-translation-keys-for-any-new-or-changed-user-facing-text-introduced-by-the-role-choice-login-token-flow-and-the-updated-onboarding-validations-english-dutch-french-remain-supported",
      "title": "Add/adjust i18n translation keys for any new or changed user-facing text introduced by the role-choice login/token flow and the updated onboarding validations (English, Dutch, French remain supported).",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-app-s-logo-branding-mark-with-a-cute-tooth-icon-with-no-text-and-use-it-on-the-login-screen-in-place-of-the-current-sparkles-icon",
      "title": "Replace the app’s logo/branding mark with a cute tooth icon with no text, and use it on the login screen in place of the current Sparkles icon.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-task-create-and-task-completion-popup-windows-fully-opaque-no-see-through-transparency-in-both-light-and-dark-mode",
      "title": "Make the Task Create and Task Completion popup windows fully opaque (no see-through/transparency) in both light and dark mode.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-word-optional-everywhere-it-appears-in-tasks-and-overtime-sections-including-labels-placeholders-and-any-supporting-helper-text-while-keeping-the-underlying-fields-optional",
      "title": "Remove the word “optional” everywhere it appears in Tasks and Overtime sections, including labels/placeholders and any supporting helper text, while keeping the underlying fields optional.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-update-branding-text-so-that-the-app-displays-only-fitgebit-next-to-under-the-logo-remove-extra-text-such-as-the-subtitle-in-the-header-and-login-screen",
      "title": "Update branding text so that the app displays only “FitGebit” next to/under the logo (remove extra text such as the subtitle) in the header and login screen.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-avatar-picker-so-the-existing-16-dental-avatars-reliably-render-and-are-visible-in-the-avatar-grid-no-placeholders-blank-cells-and-remove-any-remaining-hard-coded-non-i18n-empty-state-text-in-the-avatar-picker",
      "title": "Fix the avatar picker so the existing 16 dental avatars reliably render and are visible in the avatar grid (no placeholders/blank cells) and remove any remaining hard-coded non-i18n empty-state text in the avatar picker.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-profile-settings-popup-fully-opaque-not-see-through-in-both-light-and-dark-mode",
      "title": "Make the Profile Settings popup fully opaque (not see-through) in both light and dark mode.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-dental-avatar-rendering-in-the-profile-settings-avatar-picker-so-that-all-16-avatars-reliably-display-no-blank-cells-placeholders-when-opening-profile-settings",
      "title": "Fix dental avatar rendering in the Profile Settings avatar picker so that all 16 avatars reliably display (no blank cells/placeholders) when opening Profile Settings.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-authenticated-app-flow-so-the-profile-ui-cannot-disappear-ensure-the-app-deterministically-shows-exactly-one-of-loginscreen-rolechoicescreen-profileonboardingmodal-appshell-based-on-internet-identity-auth-state-role-state-and-profile-state-and-add-a-safe-fallback-ui-when-the-role-profile-queries-error-or-return-unexpected-values",
      "title": "Fix the authenticated app flow so the profile UI cannot disappear: ensure the app deterministically shows exactly one of (LoginScreen, RoleChoiceScreen, ProfileOnboardingModal, AppShell) based on Internet Identity auth state, role state, and profile state, and add a safe fallback UI when the role/profile queries error or return unexpected values.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-update-profile-onboarding-to-require-both-username-and-initials-2-3-characters-and-to-let-the-user-choose-one-of-a-upload-a-profile-photo-b-choose-a-dental-svg-avatar-or-c-use-an-auto-generated-pastel-dental-avatar-with-initials-prevent-saving-until-the-required-fields-are-valid",
      "title": "Update profile onboarding to require both username and initials (2–3 characters) and to let the user choose one of: (A) upload a profile photo, (B) choose a dental SVG avatar, or (C) use an auto-generated pastel dental avatar with initials; prevent saving until the required fields are valid.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-update-profile-settings-so-users-can-edit-username-initials-and-avatar-photo-allow-uploading-replacing-removing-a-profile-photo-and-ensure-the-settings-sheet-remains-fully-opaque-in-both-light-and-dark-mode",
      "title": "Update Profile Settings so users can edit username, initials, and avatar/photo: allow uploading/replacing/removing a profile photo, and ensure the settings sheet remains fully opaque in both light and dark mode.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-single-reusable-avatar-renderer-component-for-the-app-that-displays-in-priority-order-uploaded-profile-photo-if-present-selected-dental-svg-avatar-auto-generated-pastel-dental-avatar-with-initials-then-replace-existing-usages-that-assume-profile-avatar-is-always-a-dental-svg-id-e-g-header-user-menu-manager-user-picker-task-manager-views-where-profiles-are-shown",
      "title": "Implement a single reusable avatar renderer component for the app that displays, in priority order: uploaded profile photo (if present) → selected dental SVG avatar → auto-generated pastel dental avatar with initials; then replace existing usages that assume `profile.avatar` is always a dental SVG ID (e.g., header user menu, manager user picker, task/manager views where profiles are shown).",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-make-dental-avatar-availability-reliable-by-ensuring-the-backend-avatar-list-is-initialized-and-non-empty-for-all-deployments-guarantee-that-getalldentalavatars-returns-the-full-expected-set-16-without-requiring-a-manual-one-time-call-from-the-frontend",
      "title": "Make dental avatar availability reliable by ensuring the backend avatar list is initialized and non-empty for all deployments: guarantee that `getAllDentalAvatars()` returns the full expected set (16) without requiring a manual one-time call from the frontend.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-add-adjust-i18n-translation-keys-for-all-new-changed-profile-and-photo-upload-ui-text-english-dutch-french-and-remove-outdated-role-confirmation-strings-that-are-no-longer-used-in-the-ui-flow",
      "title": "Add/adjust i18n translation keys for all new/changed profile and photo-upload UI text (English, Dutch, French), and remove outdated role-confirmation strings that are no longer used in the UI flow.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-restore-end-to-end-overtime-functionality-so-assistants-can-successfully-add-or-deduct-overtime-minutes-instead-of-receiving-the-error-message-overtime-functionality-is-currently-unavailable",
      "title": "Restore end-to-end overtime functionality so assistants can successfully add or deduct overtime minutes instead of receiving the error message \"Overtime functionality is currently unavailable\".",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-overtime-hooks-and-ui-to-call-the-backend-overtime-apis-instead-of-the-current-no-op-disabled-implementations-and-ensure-errors-are-surfaced-through-the-existing-notification-error-handling-patterns",
      "title": "Update the frontend overtime hooks and UI to call the backend overtime APIs (instead of the current no-op/disabled implementations) and ensure errors are surfaced through the existing notification/error handling patterns.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-dental-avatar-loading-so-all-16-dental-svg-avatars-render-correctly-no-broken-missing-image-links-across-the-entire-app-including-the-avatar-picker-profile-onboarding-settings-header-user-menu-and-manager-user-picker",
      "title": "Fix dental avatar loading so all 16 dental SVG avatars render correctly (no broken/missing image links) across the entire app, including the avatar picker, profile onboarding/settings, header/user menu, and manager user picker.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-update-i18n-keys-as-needed-to-cover-any-new-changed-overtime-and-avatar-error-success-messages-used-by-the-fixes-keeping-existing-english-dutch-french-structure-intact-while-ensuring-english-user-facing-text-is-present-for-the-build",
      "title": "Update i18n keys as needed to cover any new/changed overtime and avatar error/success messages used by the fixes, keeping existing English/Dutch/French structure intact while ensuring English user-facing text is present for the build.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-add-overtime-total-display-in-hours-in-addition-to-the-existing-minutes-workdays-totals-across-the-app-where-overtime-totals-are-shown",
      "title": "Add overtime total display in hours (in addition to the existing minutes/workdays totals) across the app where overtime totals are shown.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-weekly-tasks-reset-on-mondays-and-users-can-always-mark-them-done-without-being-blocked-by-this-weekly-task-is-obsolete-and-must-be-reset-before-completion",
      "title": "Ensure weekly tasks reset on Mondays and users can always mark them done without being blocked by \"This weekly task is obsolete and must be reset before completion\".",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-keep-task-list-ordering-so-that-when-a-task-is-marked-done-it-moves-down-the-list-allowing-more-urgent-incomplete-tasks-to-rise-to-the-top",
      "title": "Keep task list ordering so that when a task is marked done it moves down the list, allowing more urgent/incomplete tasks to rise to the top.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-dental-avatar-rendering-so-avatars-reliably-display-across-the-app-avatar-picker-profile-onboarding-settings-header-user-menu-and-manager-user-picker-instead-of-appearing-missing-not-showing",
      "title": "Fix dental avatar rendering so avatars reliably display across the app (avatar picker, profile onboarding/settings, header/user menu, and manager user picker) instead of appearing missing/not showing.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-multi-line-task-description-field-that-appears-directly-under-the-task-title-when-creating-a-task-allowing-users-to-describe-the-task-in-detail-persist-this-description-in-the-backend-task-model-and-display-it-under-the-task-title-on-task-cards",
      "title": "Add a multi-line task description field that appears directly under the task title when creating a task, allowing users to describe the task in detail; persist this description in the backend task model and display it under the task title on task cards.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-update-overtime-totals-display-to-convert-total-minutes-into-a-composite-format-using-60-minutes-1-hour-and-8-hours-1-day-and-show-totals-in-the-format-x-day-s-y-hour-s-z-minute-s-e-g-550-minutes-displays-as-1-day-1-hour-10-minutes",
      "title": "Update overtime totals display to convert total minutes into a composite format using 60 minutes = 1 hour and 8 hours = 1 day, and show totals in the format \"X day(s), Y hour(s), Z minute(s)\" (e.g., 550 minutes displays as \"1 day, 1 hour, 10 minutes\").",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-2",
      "summary": "UI/UX: fun modern dental theme, animations, engagement badges; responsive tabs (tasks/overtime/manager), dark/light mode, manual NL/FR/EN language selection, notifications",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Overtime tracker: assistants add/deduct minutes (prefill today, no future dates), colored history, totals (480 min=1 day); manager per-user views + CSV export",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Tasks & stats: shared task list with frequency/duedate/priority/assignee; sorted by urgency; mark done with optional comment/photo; reset recurring; manager charts/stats/audit + CSV export",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Data handling: store task photos directly in canister; secure storage approach + GDPR basics",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Branding: replace app logo with a cute tooth dental icon (no text)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Tasks redesign: remove due date/assignee/priority; task types = weekly/monthly/urgent with specified color coding; track completer; done stays green until next reset; manager stats (who/how often) + CSV",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Recurring task reset behavior: weekly due Monday, monthly due first Monday; completed tasks reset when the app opens (not at midnight)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Overtime updates: date format DD MM YYYY prefilled today; disallow future dates; minutes-only add (red +) and deduct (green -); remove any photo capability; manager per-user view + CSV export",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Role-choice login (Assistant/Manager) after Internet Identity; Manager requires token ICPmaxi313; remove any auto-assign-first-user/creator Manager behavior",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Replace existing avatar set (48) with exactly 16 simple cute dental SVG icons; store SVG strings in canister; expose via list/URLs; show all in a single grid",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Update backend authorization so that the app can grant Manager/admin privileges only when the caller successfully completes the Manager token flow, and otherwise grants Assistant/user access.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "UI fix: make Task Create and Task Completion popup/modal backgrounds opaque (not see-through)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "UI text cleanup: remove the word “optional” anywhere it appears in Tasks or Overtime sections",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Branding/header text: remove extra text next to the logo; display only “FitGebit”",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Bug fix: avatar picker should correctly display the existing 16 dental avatars (currently not visible)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Profile system rebuild: require name + 2–3 initials; support uploaded profile picture or auto-generated cute pastel dental avatar with initials visible; ensure reliable rendering across app and persistence across updates",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Extend the user profile data model to persist both initials (2–3 characters) and an optional uploaded profile photo reference, while keeping the existing dental avatar selection as an alternative fallback.",
      "reqIds": [
        "REQ-35"
      ],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Add backend APIs to support profile photo upload, retrieval, and deletion using the existing blob storage mixin, and enforce that only the profile owner (caller) can set or remove their own profile photo.",
      "reqIds": [
        "REQ-36"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Implement (or re-introduce) the overtime data model and APIs in the Motoko backend to support creating and listing a caller’s overtime entries, and manager access to per-user overtime views and CSV export data.",
      "reqIds": [
        "REQ-43"
      ],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Ensure the backend always returns a complete, valid set of 16 dental avatars (with valid SVG markup) from `getAllDentalAvatars()` without requiring a manual one-time initialization call from the frontend.",
      "reqIds": [
        "REQ-46"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Avatars: permanently replace the current 16 dental SVG avatars with a new set of cute pastel-colored dental/medical themed avatars (more variety; not all the same).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Overtime: backend must support negative minute values for deductions (store as signed Int) and frontend must display overtime totals in hours in addition to minutes/days.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Tasks: weekly tasks must reset automatically on Mondays even if the app hasn’t been opened; when a task is marked done it should move down the list so more urgent tasks appear first.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Fix overtime submission to support deductions by storing signed minute values (negative minutes) end-to-end, eliminating the runtime error \"Invalid nat argument: BigInt(-6)\".",
      "reqIds": [
        "REQ-48"
      ],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Permanently replace the existing set of 16 dental SVG avatars served by the backend with a new set of 16 cute pastel-colored dental/medical themed SVG avatars with clear variety (not all the same).",
      "reqIds": [
        "REQ-52"
      ],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Add a safe, conditional data migration for existing deployments to handle the overtime minutes type change required for signed (negative) minutes, preserving any existing overtime data.",
      "reqIds": [
        "REQ-53"
      ],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Tasks UI: add a multi-line comment/description input directly under each task title to describe the task in detail",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-38",
      "summary": "Overtime totals display: convert minutes into a composite \"X days, Y hours, Z minutes\" format using 60 min = 1 hour and 8 hours = 1 day (e.g., 550 min -> 1 day, 1 hour, 10 minutes)",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "FitGebit Team Tracker",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}